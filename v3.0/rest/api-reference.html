<html><head><style type="text/css">@charset "UTF-8";[ng\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\:form{display:block;}</style>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Appbase Documentation</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/bootstrap/dist/css/bootstrap-theme.min.css">
  <script type="text/javascript">
    if (!Function.prototype.bind) {
Function.prototype.bind = function bind(that) { // .length is 1
        var slice = [].slice;
        var Empty = function(){};
        var target = this;
        if (typeof target != "function") {
            throw new TypeError("Function.prototype.bind called on incompatible " + target);
        }
        var args = slice.call(arguments, 1); // for normal call
        var bound = function () {

            if (this instanceof bound) {

                var result = target.apply(
                    this,
                    args.concat(slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                return target.apply(
                    that,
                    args.concat(slice.call(arguments))
                );

            }

        };
        if(target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            Empty.prototype = null;
        }
        return bound;
    };  
}
  </script>
  <!-- Flatdoc -->
  <script type="text/javascript" src="/Docs/bower_components/jquery/dist/jquery.min.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/flatdoc/legacy.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/flatdoc/flatdoc.js"></script>

  <!-- Flatdoc theme -->
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/flatdoc/theme-white/style.css">
  <script type="text/javascript" src="/Docs/bower_components/docbase/scripts/flatdoc-theme.js"></script>

  <!-- DocBase -->
  <script type="text/javascript" src="/Docs/bower_components/angular/angular.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/angular-route/angular-route.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/js-schema/js-schema.min.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/docbase/scripts/docbase.js"></script>
  <script src="/Docs/bower_components/google-code-prettify/bin/prettify.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/google-code-prettify/bin/prettify.min.css">
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/docbase/styles/main.css">
  <link rel="stylesheet" type="text/css" href="/Docs/bower_components/components-font-awesome/css/font-awesome.min.css">
  

  <!-- Custom -->
  <link rel="stylesheet" type="text/css" href="styles/main.css">

</head>
<body role="flatdoc" class="">
  <!--[if lt IE 10]>
     <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]-->

  <!-- ngView:  --><div ng-view="" class="ng-scope"><nav class="navbar navbar-default navbar-fixed-top ng-scope">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#/">
        <img src="images/logo.svg">
      </a>
    </div>

    <div class="collapse navbar-collapse" id="navbar-collapse">
      <ul class="nav navbar-nav">
      	<!-- ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
      		<a ng-href="#/v3.0/changelog" class="dropdown-toggle ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href="#/v3.0/changelog">changelog</a>
      		<ul class="dropdown-menu">
      		  <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/changelog/changelog.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/changelog/changelog.html>changelog</a>
      		  </li><!-- end ngRepeat: file in folder.files -->
      		</ul>
      	</li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
      		<a ng-href="#/v3.0/concepts" class="dropdown-toggle ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href="#/v3.0/concepts">concepts</a>
      		<ul class="dropdown-menu">
      		  <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/concepts/datamodel.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/concepts/datamodel.html>datamodel</a>
      		  </li><!-- end ngRepeat: file in folder.files -->
      		</ul>
      	</li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
      		<a ng-href="#/v3.0/javascript" class="dropdown-toggle ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href="#/v3.0/javascript">javascript</a>
      		<ul class="dropdown-menu">
      		  <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/javascript/api-reference.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/javascript/api-reference.html>api-reference</a>
      		  </li><!-- end ngRepeat: file in folder.files -->
      		</ul>
      	</li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
      		<a ng-href="#/v3.0/rest" class="dropdown-toggle ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href="#/v3.0/rest">rest</a>
      		<ul class="dropdown-menu">
      		  <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/rest/api-reference.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/rest/api-reference.html>api-reference</a>
      		  </li><!-- end ngRepeat: file in folder.files -->
      		</ul>
      	</li><!-- end ngRepeat: folder in map[currentVersion] --><li class="dropdown ng-scope" ng-repeat="folder in map[currentVersion]">
      		<a ng-href="#/v3.0/search" class="dropdown-toggle ng-binding" data-toggle="dropdown" role="button" aria-expanded="false" ng-bind="folder.label" href="#/v3.0/search">search</a>
      		<ul class="dropdown-menu">
      		  <!-- ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/search/quick-start.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/search/quick-start.html>quick-start</a>
      		  </li><!-- end ngRepeat: file in folder.files --><li ng-repeat="file in folder.files" class="ng-scope">
      		  	<a ng-href=/Docs/v3.0/search/use-cases.html ng-bind="file.label" class="ng-binding" href=/Docs/v3.0/search/use-cases.html>use-cases</a>
      		  </li><!-- end ngRepeat: file in folder.files -->
      		</ul>
      	</li><!-- end ngRepeat: folder in map[currentVersion] -->
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
          <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
          	 <span ng-bind="currentVersion" class="ng-binding">v3.0</span> <span class="caret"></span>
          </a>
          <ul class="dropdown-menu version-switcher" role="menu">
          	<!-- ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
          		<a ng-href=/Docs/v2.0.html ng-bind="version" class="ng-binding" href=/Docs/v2.0.html>v2.0</a>
          	</li><!-- end ngRepeat: version in versions --><li ng-repeat="version in versions" class="ng-scope">
          		<a ng-href=/Docs/v3.0.html ng-bind="version" class="ng-binding" href=/Docs/v3.0.html>v3.0</a>
          	</li><!-- end ngRepeat: version in versions -->
          </ul>
        </li>
        <li class="github-star">
          <iframe src="https://ghbtns.com/github-btn.html?user=appbaseio&amp;repo=Docs&amp;type=star&amp;count=true" frameborder="0" scrolling="0" width="170px" height="20px"></iframe>
        </li>
      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
<div role="flatdoc" class="content-root ng-scope">
  <div class="menubar fixed">
    <div class="menu section" role="flatdoc-menu"><ul><li id="root-item" class="level-0"><ul class="level-1" id="root-list"><li id="title-introduction-threecolumns-true-item" class="level-1"><a id="title-introduction-threecolumns-true-link" href="/Docs/v3.0/rest/api-reference.html#title-introduction-threecolumns-true" class="level-1" pref="#title-introduction-threecolumns-true">Introduction</a></li><li id="api-quick-reference-item" class="level-1"><a id="api-quick-reference-link" href="/Docs/v3.0/rest/api-reference.html#api-quick-reference" class="level-1" pref="#api-quick-reference">API Quick Reference</a><ul class="level-2" id="api-quick-reference-list"><li id="api-quick-reference-http-status-codes-item" class="level-2"><a id="api-quick-reference-http-status-codes-link" href="/Docs/v3.0/rest/api-reference.html#api-quick-reference-http-status-codes" class="level-2" pref="#api-quick-reference-http-status-codes">HTTP Status Codes</a></li><li id="api-quick-reference-errors-item" class="level-2"><a id="api-quick-reference-errors-link" href="/Docs/v3.0/rest/api-reference.html#api-quick-reference-errors" class="level-2" pref="#api-quick-reference-errors">Errors</a></li></ul></li><li id="api-reference-item" class="level-1"><a id="api-reference-link" href="/Docs/v3.0/rest/api-reference.html#api-reference" class="level-1" pref="#api-reference">API Reference</a><ul class="level-2" id="api-reference-list"><li id="api-reference-httpapiappbaseioappnamev3-global-item" class="level-2"><a id="api-reference-httpapiappbaseioappnamev3-global-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-httpapiappbaseioappnamev3-global" class="level-2" pref="#api-reference-httpapiappbaseioappnamev3-global">http://api.appbase.io/appname/v3 - Global</a><ul class="level-3" id="api-reference-httpapiappbaseioappnamev3-global-list"><li id="api-reference-httpapiappbaseioappnamev3-global-get-item" class="level-3"><a id="api-reference-httpapiappbaseioappnamev3-global-get-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-httpapiappbaseioappnamev3-global-get" class="level-3" pref="#api-reference-httpapiappbaseioappnamev3-global-get">GET</a></li><li id="api-reference-httpapiappbaseioappnamev3-global-document-resource-notes-item" class="level-3"><a id="api-reference-httpapiappbaseioappnamev3-global-document-resource-notes-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-httpapiappbaseioappnamev3-global-document-resource-notes" class="level-3" pref="#api-reference-httpapiappbaseioappnamev3-global-document-resource-notes">Document Resource Notes:</a></li></ul></li><li id="api-reference-collection-item" class="level-2"><a id="api-reference-collection-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-collection" class="level-2" pref="#api-reference-collection">Collection</a><ul class="level-3" id="api-reference-collection-list"><li id="api-reference-collection-create-patch-item" class="level-3"><a id="api-reference-collection-create-patch-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-collection-create-patch" class="level-3" pref="#api-reference-collection-create-patch">Create PATCH</a></li><li id="api-reference-collection-delete-delete-item" class="level-3"><a id="api-reference-collection-delete-delete-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-collection-delete-delete" class="level-3" pref="#api-reference-collection-delete-delete">Delete DELETE</a></li><li id="api-reference-collection-read-get-item" class="level-3"><a id="api-reference-collection-read-get-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-collection-read-get" class="level-3" pref="#api-reference-collection-read-get">Read GET</a></li><li id="api-reference-collection-push-json-to-a-new-document-post-item" class="level-3"><a id="api-reference-collection-push-json-to-a-new-document-post-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-collection-push-json-to-a-new-document-post" class="level-3" pref="#api-reference-collection-push-json-to-a-new-document-post">Push JSON to a new document POST</a></li></ul></li><li id="api-reference-document-item" class="level-2"><a id="api-reference-document-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document" class="level-2" pref="#api-reference-document">Document</a><ul class="level-3" id="api-reference-document-list"><li id="api-reference-document-create-update-document-patch-item" class="level-3"><a id="api-reference-document-create-update-document-patch-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-create-update-document-patch" class="level-3" pref="#api-reference-document-create-update-document-patch">Create / Update Document PATCH</a></li><li id="api-reference-document-delete-delete-item" class="level-3"><a id="api-reference-document-delete-delete-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-delete-delete" class="level-3" pref="#api-reference-document-delete-delete">Delete DELETE</a></li><li id="api-reference-document-creating-references-item" class="level-3"><a id="api-reference-document-creating-references-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-creating-references" class="level-3" pref="#api-reference-document-creating-references">Creating References</a></li><li id="api-reference-document-with-a-reference-name-patch-item" class="level-3"><a id="api-reference-document-with-a-reference-name-patch-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-with-a-reference-name-patch" class="level-3" pref="#api-reference-document-with-a-reference-name-patch">with a Reference Name PATCH</a></li><li id="api-reference-document-without-a-reference-name-post-item" class="level-3"><a id="api-reference-document-without-a-reference-name-post-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-without-a-reference-name-post" class="level-3" pref="#api-reference-document-without-a-reference-name-post">without a Reference Name POST</a></li><li id="api-reference-document-read-document-get-item" class="level-3"><a id="api-reference-document-read-document-get-link" href="/Docs/v3.0/rest/api-reference.html#api-reference-document-read-document-get" class="level-3" pref="#api-reference-document-read-document-get">Read Document GET</a></li></ul></li></ul></li></ul></li></ul></div>
  </div>
  <div role="flatdoc-content" class="content"><h1 id="title-introduction-threecolumns-true">Introduction</h1><p>The Appbase v3.0 API is based on REST principles. All operations including creating documents and references, fetching a specific document, deleting a document or searching through documents are RESTful. The only non-RESTful operation is realtime event streams, which works with the Websocket protocol, via sockjs.</p><h1 id="api-quick-reference">API Quick Reference</h1><table>
<thead>
<tr>
<th>Endpoint</th>
<th>Method</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>/</td>
<td>GET</td>
<td>list of existing collections, current time as an object</td>
</tr>
<tr>
<td>/{collection_id}/</td>
<td>GET</td>
<td>Get/Query a list of documents</td>
</tr>
<tr>
<td>/{collection_id}/</td>
<td>PATCH</td>
<td>Create a collection, if doesn’t exist</td>
</tr>
<tr>
<td>/{collection_id}/</td>
<td>DELETE</td>
<td>Delete a collection</td>
</tr>
<tr>
<td>/{collection_id}/</td>
<td>POST</td>
<td>create a new document inside collection with an auto generated id</td>
</tr>
<tr>
<td>/{collection_id}/{document_id}/{path}/</td>
<td>GET</td>
<td>get/listen properties, Query references</td>
</tr>
<tr>
<td>/{collection_id}/{document_id}/{path}/</td>
<td>PATCH</td>
<td>create object; partially update properties; put-remove a reference</td>
</tr>
<tr>
<td>/{collection_id}/{document_id}/{path}/</td>
<td>POST</td>
<td>push a JSON to create a new object and a reference</td>
</tr>
<tr>
<td>/{collection_id}/{document_id}/{path}/</td>
<td>DELETE</td>
<td>delete the whole document</td>
</tr>
</tbody>
</table><h2 id="api-quick-reference-http-status-codes">HTTP Status Codes</h2><ul>
<li>200 (Success): for every request that succeeds, also the create/delete ones</li>
<li>404 (not found): when the path doesn’t exist</li>
<li>401 (Unauthorized): when secret or token is not present, or is invalid</li>
<li>500 (Server error): internal server errors, like when ES indexing failed or something</li>
<li>501 (Not Implemented) : When trying to use a wrong HTTP method on the endpoint</li>
<li>400 (Bad Request): </li>
<li>403 (Forbidden): a thing to keep in mind for the next backend - When the security rules do not allow the access</li>
<li>409 (Conflict): for commitData</li>
</ul><h2 id="api-quick-reference-errors">Errors</h2><p>On top of HTTP status code, we return a json document for errors. the document looks like: </p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    error</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">number</span><span class="pun">&gt;</span><span class="pln">
    message</span><span class="pun">:</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">string</span><span class="pun">&gt;</span><span class="pln">
</span><span class="pun">}</span></code></pre><h1 id="api-reference">API Reference</h1><h2 id="api-reference-httpapiappbaseioappnamev3-global"><a href="http://api.appbase.io/appname/v3">http://api.appbase.io/appname/v3</a> - Global</h2><h3 id="api-reference-httpapiappbaseioappnamev3-global-get"><code>GET</code></h3><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    _time</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">346274526</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"_timezone"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"UTC"</span></span><span class="pun">,</span><span class="pln"> </span><span class="comment"><span class="com">// always - infact server</span><span class="string"><span class="com">'s own system time is in UTC - simplifies Elasticsearch'</span></span><span class="com">s relative time features</span></span><span class="pln">
        </span><span class="string"><span class="str">"_ISOString"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"</span><span class="number"><span class="str">2015</span></span><span class="str">-</span><span class="number"><span class="str">02</span></span><span class="str">-</span><span class="number"><span class="str">27</span></span><span class="str">T</span><span class="number"><span class="str">02</span></span><span class="str">:</span><span class="number"><span class="str">51</span></span><span class="str">:</span><span class="number"><span class="number"><span class="str">50</span></span><span class="str">.</span><span class="number"><span class="str">968</span></span></span><span class="str">Z"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    _collections</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="string"><span class="str">"user"</span></span><span class="pun">,</span><span class="pln"> </span><span class="string"><span class="str">"tweet"</span></span><span class="pun">]</span><span class="pln">
</span><span class="pun">}</span></code></pre><h3 id="api-reference-httpapiappbaseioappnamev3-global-document-resource-notes">Document Resource Notes:</h3><ul>
<li><p>properties - that can not be used by the developer:</p>
<ul>
<li>_id - uuid of the document - unique across the collection - also represents the document’s path: <code>collection/id</code></li>
<li>_timestamp - used for internal timestamping</li>
<li>_collection - collection where it belongs</li>
<li>_deleted - keeping track of deleted documents</li>
<li>deprecated in this version:<ul>
<li>rootPath &lt;-replaced by id and collection</li>
</ul>
</li>
</ul>
</li>
</ul><hr><h2 id="api-reference-collection">Collection</h2><p>Operate on namespaces.</p><h3 id="api-reference-collection-create-patch"><strong>Create</strong> <code>PATCH</code></h3><p>Create a new collection if it doesn’t exist. This is NOT a required step to create documents inside that collection. Collections are created automatically.</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \  
</span><span class="str">'https://api.appbase.io/rest_test/v3/Materials'</span></code></pre><p>Reponse: (when the collection is newly created)</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_created"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln"> </span><span class="comment"><span class="com">// as it is a new collection</span></span><span class="pln">
    </span><span class="string"><span class="str">"_createdAt"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">2301249092</span></span><span class="pln"> </span><span class="comment"><span class="com">//timestamp in UTC</span></span><span class="pln">
</span><span class="pun">}</span></code></pre><p>(when the collection already exists)</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_createdAt"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">2301249092</span></span><span class="pln"> </span><span class="comment"><span class="com">//timestamp in UTC</span></span><span class="pln">
</span><span class="pun">}</span></code></pre><h3 id="api-reference-collection-delete-delete"><strong>Delete</strong> <code>DELETE</code></h3><p>Delete the collection and all its documents.</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X DELETE \  
</span><span class="str">'https://api.appbase.io/rest_test/v3/Materials'</span></code></pre><p>Response: </p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_createdAt"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">2301249092</span></span><span class="pun">,</span><span class="pln"> </span><span class="comment"><span class="com">//timestamp in UTC</span></span><span class="pln">
    </span><span class="string"><span class="str">"_deleted"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln">
</span><span class="pun">}</span></code></pre><h3 id="api-reference-collection-read-get"><strong>Read</strong> <code>GET</code></h3><p>Receive all the documents inside, provide a <code>query=</code> url parameter for querying the documents.</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i \    
</span><span class="str">'https://api.appbase.io/rest_test/v3/Materials</span></code></pre><p>Response:</p><p><code>200</code></p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">

    </span><span class="string"><span class="str">"/abc"</span></span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"abc"</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pln">
        </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">2021692</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"bar"</span></span><span class="pln">
    </span><span class="pun">},</span><span class="pln">
    </span><span class="string"><span class="str">"/pqr"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="comment"><span class="com">// deleted</span></span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:
 - If a <code>timestamp</code> is provided in the url parameter, it will work as a <em>sync</em> and only the documents updated after that will be returned. Documents that are deleted will be returned too, with <code>"/doc_id": null</code>. 
 - response also includes the request url parameters (query, timestamp etc) 
 - By default, at most <code>50</code> documents are returned. Thus the default query becomes: <code>{ size: 50, query: {match_all: {}}}</code>. To fetch more, provide a proper <code>query</code>. </p><h3 id="api-reference-collection-push-json-to-a-new-document-post"><strong>Push JSON to a new document</strong> <code>POST</code></h3><p>Push a JSON and create a new document out of it in a collection. It will be given a UUID as its doc id by default.</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X POST \  
</span><span class="pun">-</span><span class="pln">d </span><span class="str">'{
        "name": "lanny"
    }
}'</span><span class="pln"> \  
</span><span class="str">'https://api.appbase.io/rest_test/v3/user/'</span></code></pre><p>Response:</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"/asd</span><span class="number"><span class="str">34234</span></span><span class="str">"</span></span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"asd</span><span class="number"><span class="str">34234</span></span><span class="str">"</span></span><span class="pln"> </span><span class="comment"><span class="com">//random id</span></span><span class="pln">
        </span><span class="string"><span class="str">"name"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"lanny"</span></span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:
 -  If an <code>_id</code> field is provided inside the JSON object, that id will be used as the document’s id in Appbase. Making it fully compatible with other NoSQL stuff. For eg.</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X POST \  
</span><span class="pun">-</span><span class="pln">d </span><span class="str">'{
        "_id": "john"
        "name": "john mcclane"
    }
}'</span><span class="pln"> \  
</span><span class="str">'https://api.appbase.io/rest_test/v3/user/'</span></code></pre><p>Response:</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"/john"</span></span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"john"</span></span><span class="pln">
        </span><span class="string"><span class="str">"name"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"john mcclane"</span></span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Now fetching that document:</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X \  
</span><span class="str">'https://api.appbase.io/rest_test/v3/user/john'</span></code></pre><p>Note:
If <code>_id</code> points to an existing document, it works as a <code>PATCH</code>.</p><h2 id="api-reference-document">Document</h2><p>Operate on documents inside a collection.</p><h3 id="api-reference-document-create-update-document-patch"><strong>Create / Update Document</strong> <code>PATCH</code></h3><p>Update the document properties, or create a new document when the path exists. The document and collection, are automatically created if they don’t exist.</p><blockquote style="float: left; width: 510px; margin-left: 20px; margin-right: 20px; color: rgb(51, 51, 51); ">
<p><strong>Example Request</strong></p>
<pre style="padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 10px; "><code class="lang-curl prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \
</span><span class="pun">-</span><span class="pln">d </span><span class="string"><span class="str">'{</span><span class="string"><span class="str">"foo"</span></span><span class="str">: </span><span class="string"><span class="str">"bar"</span></span><span class="str">}'</span></span><span class="pln"> \
</span><span class="string"><span class="str">'https:</span><span class="comment"><span class="str">//api.appbase.io/rest_test/v</span><span class="number"><span class="str">3</span></span><span class="str">/Materials/Ice/'</span></span></span></code></pre>
</blockquote><p>Response: 
 Return the whole updated document.</p><p><code>200</code>
Content-Type: application/json</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">12535265236</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"bar"</span></span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:</p><ul>
<li>If timestamp is provided in the url parameter, it will only update the document when the request timestamp matches the stored timestamp. (commitData)</li>
<li>only updates properties which are provided in the request</li>
<li><p>patch properties with <code>null</code> to remove them
eg:</p>
<pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \
</span><span class="pun">-</span><span class="pln">d </span><span class="str">'{"foo": "bar"}'</span><span class="pln"> \
</span><span class="str">'https://api.appbase.io/rest_test/v3/Materials/Ice/'</span></code></pre>
<p>Response: </p>
<pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
 </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pln">
 </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
 </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">12535265236</span></span><span class="pun">,</span><span class="pln">
 </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="comment"><span class="com">// null appears only in this request, as this property is removed. in subsequent requests, this property will simply be omitted </span></span><span class="pln">
</span><span class="pun">}</span></code></pre>
</li>
<li><p>to update a nested field, provide nested properties with a dot (Mongo and ES convention)</p>
<ul>
<li>eg: <pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
</span><span class="string"><span class="str">"authoredBy.profile.firstName"</span></span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="number"><span class="lit">52</span></span><span class="pln">
</span><span class="pun">}</span></code></pre>
</li>
</ul>
</li>
</ul><h3 id="api-reference-document-delete-delete"><strong>Delete</strong> <code>DELETE</code></h3><p>Delete (Destroy) Document</p><pre><code class="prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X DELETE \
</span><span class="str">'https://api.appbase.io/rest_test/v3/Materials/Ice'</span></code></pre><p>Response: (get the whole document which was just deleted - omitting references) </p><p><code>200</code>
Content-Type: application/json</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">12535265236</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_deleted"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"bar"</span></span><span class="pln">
</span><span class="pun">}</span></code></pre><h3 id="api-reference-document-creating-references">Creating References</h3><h3 id="api-reference-document-with-a-reference-name-patch"><strong>with a Reference Name</strong> <code>PATCH</code></h3><p>Update/create references, one at a time. This is an overloaded endpoint. One can update either properties or one reference.</p><blockquote style="float: left; width: 510px; margin-left: 20px; margin-right: 20px; color: rgb(51, 51, 51); ">
<p><strong>Example Request</strong></p>
<pre style="padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 10px; "><code class="lang-curl prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \  
</span><span class="pun">-</span><span class="pln">d </span><span class="string"><span class="str">'{
    </span><span class="string"><span class="str">"/tweetedBy"</span></span><span class="str">: </span><span class="string"><span class="str">"user/sagar"</span></span><span class="str">
}'</span></span><span class="pln"> \  
</span><span class="string"><span class="str">'https:</span><span class="comment"><span class="str">//api.appbase.io/rest_test/v</span><span class="number"><span class="str">3</span></span><span class="str">/Materials/Ice/'</span></span></span></code></pre>
</blockquote><p>Response: 
<code>200</code>
Receive the reference with its data. Receive basic properties of the document, id collection and timestamp. </p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">12535265236</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"/tweetedBy"</span></span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"abc"</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"asas"</span></span><span class="pln">
        </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">2021692</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"bar"</span></span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:
 - provide a <code>null</code> for a reference name to delete a reference.</p><p>Eg: </p><blockquote style="float: left; width: 510px; margin-left: 20px; margin-right: 20px; color: rgb(51, 51, 51); ">
<p><strong>Example Request</strong></p>
<pre style="padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 10px; "><code class="lang-curl prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \  
</span><span class="pun">-</span><span class="pln">d </span><span class="string"><span class="str">'{
    </span><span class="string"><span class="str">"/tweetedBy"</span></span><span class="str">: null
}'</span></span><span class="pln"> \  
</span><span class="string"><span class="str">'https:</span><span class="comment"><span class="str">//api.appbase.io/rest_test/v</span><span class="number"><span class="str">3</span></span><span class="str">/Materials/Ice/'</span></span></span></code></pre>
</blockquote><p>Response: 
<code>200</code>
Receive the deleted reference, set as null. Receive basic properties of the document, id collection and timestamp. </p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Materials"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">12535265236</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"/tweetedBy"</span></span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:</p><ul>
<li>references don’t have any meta data. No priority/timestamp.</li>
</ul><h3 id="api-reference-document-without-a-reference-name-post"><strong>without a Reference Name</strong> <code>POST</code></h3><p>This is a way to work with web-hooks or events from other systems and services, where there may not be a control over what kind of JSON object is received.</p><p>This endpoint allows pushing pure JSON data to an document URL, and it creates a new document out of it, adding it as a reference inside the document.</p><p>Works similar to POST on a collection.</p><p>eg.</p><blockquote style="float: left; width: 510px; margin-left: 20px; margin-right: 20px; color: rgb(51, 51, 51); ">
<p><strong>Example Request</strong></p>
<pre style="padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 10px; "><code class="lang-curl prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i </span><span class="pun">-</span><span class="pln">X PATCH \  
</span><span class="pun">-</span><span class="pln">d </span><span class="string"><span class="str">'{
    </span><span class="string"><span class="str">"message"</span></span><span class="str">: </span><span class="string"><span class="str">"this is a tweet"</span></span><span class="str">
}'</span></span><span class="pln"> \  
</span><span class="string"><span class="str">'https:</span><span class="comment"><span class="str">//api.appbase.io/rest_test/v</span><span class="number"><span class="str">3</span></span><span class="str">/Materials/Ice?collection=tweet'</span></span></span></code></pre>
</blockquote><p>Response:</p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"/</span><span class="number"><span class="str">141</span></span><span class="str">fsddvf"</span></span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="comment"><span class="com">//random generate reference name</span></span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"wasvt</span><span class="number"><span class="str">33463</span></span><span class="str">"</span></span><span class="pun">,</span><span class="pln"> </span><span class="comment"><span class="com">//random generated id for the new document</span></span><span class="pln">
        </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"tweet"</span></span><span class="pln">
        </span><span class="string"><span class="str">"message"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"this is a tweet"</span></span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note: </p><ul>
<li><code>collection=</code> is necessary in the URL, where the new document will be created.</li>
</ul><h3 id="api-reference-document-read-document-get"><strong>Read Document</strong> <code>GET</code></h3><p>Fetch document’s properties and references</p><blockquote style="float: left; width: 510px; margin-left: 20px; margin-right: 20px; color: rgb(51, 51, 51); ">
<p><strong>Example Request</strong></p>
<pre style="padding-top: 10px; padding-right: 10px; padding-bottom: 10px; padding-left: 10px; "><code class="lang-curl prettyprint prettyprinted" style=""><span class="pln">curl </span><span class="pun">-</span><span class="pln">i \  
</span><span class="string"><span class="str">'https:</span><span class="comment"><span class="str">//api.appbase.io/rest_test/v</span><span class="number"><span class="str">3</span></span><span class="str">/Materials/Ice'</span></span></span></code></pre>
</blockquote><p>Response:</p><p><code>200</code></p><pre><code class="lang-js prettyprint prettyprinted" style=""><span class="pun">{</span><span class="pln">
    </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Ice"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"Material"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"foo"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"bar"</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">23491400</span></span><span class="pun">,</span><span class="pln">
    </span><span class="string"><span class="str">"/tweetedBy"</span></span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="string"><span class="str">"_id"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"</span><span class="number"><span class="str">3193</span></span><span class="str">v</span><span class="number"><span class="str">1934</span></span><span class="str">n"</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"_collection"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"user"</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"name"</span></span><span class="pun">:</span><span class="pln"> </span><span class="string"><span class="str">"yo"</span></span><span class="pun">,</span><span class="pln">
        </span><span class="string"><span class="str">"_timestamp"</span></span><span class="pun">:</span><span class="pln"> </span><span class="number"><span class="lit">23491400</span></span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre><p>Note:
 - references are included as well, unless <code>references=false</code> provided in URL parameter
 - <code>query</code> is a url parameter, that filter references.
 - if a <code>timestamp</code> is provided in the url parameter, it will work as a <em>sync</em> and refs changed after that timestamp will be returned: <code>"/ref_name": null</code>
 - request url parameters are included in the response
 - By default, only 50 references are returned, use query to return more.</p></div>
  <a class="edit" ng-href="https://github.com/appbaseio/Docs/tree/gh-pages/src/v3.0/rest/api-reference.md" target="_blank" href="https://github.com/appbaseio/Docs/tree/gh-pages/src/v3.0/rest/api-reference.md">
    <span class="fa fa-pencil"></span>
  </a>
</div></div>

  <script type="text/javascript" src="scripts/main.js"></script>
  <script type="text/javascript" src="/Docs/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

</body></html>